//font3x5.h

unsigned char font3X5[][5][3]=
{
//!
{
 {0,1,0},
 {0,1,0},
 {0,1,0},
 {0,0,0},
 {0,1,0}
},
//"
{
 {1,0,1},
 {0,0,0},
 {0,0,0},
 {0,0,0},
 {0,0,0}
},
//#
{
 {1,0,1},
 {1,1,1},
 {1,0,1},
 {1,1,1},
 {1,0,1}
},
//$
{
 {0,0,0},
 {1,0,1},
 {1,1,1},
 {1,0,1},
 {0,0,0}
},
//%
{
 {1,0,1},
 {0,1,1},
 {0,1,0},
 {1,1,0},
 {1,0,1}
},
//&
{
 {0,0,0},
 {0,0,0},
 {0,0,0},
 {0,1,0},
 {1,0,1}
},
//'
{
 {0,1,0},
 {0,0,0},
 {0,0,0},
 {0,0,0},
 {0,0,0}
},
//(
{
 {0,1,0},
 {1,0,0},
 {1,0,0},
 {1,0,0},
 {0,1,0}
},
//)
{
 {0,1,0},
 {0,0,1},
 {0,0,1},
 {0,0,1},
 {0,1,0}
},
//*
{
 {0,0,0},
 {1,0,1},
 {0,1,0},
 {1,0,1},
 {0,0,0}
},
//+
{
 {0,0,0},
 {0,1,0},
 {1,1,1},
 {0,1,0},
 {0,0,0}
},
//,
{
 {0,0,0},
 {0,0,0},
 {0,0,0},
 {0,0,1},
 {0,1,0}
},
//-
{
 {0,0,0},
 {0,0,0},
 {1,1,1},
 {0,0,0},
 {0,0,0}
},
//.
{
 {0,0,0},
 {0,0,0},
 {0,0,0},
 {0,0,0},
 {0,1,0}
},
///
{
 {0,0,1},
 {0,0,1},
 {0,1,0},
 {1,0,0},
 {1,0,0}
},
//0
{
 {1,1,1},
 {1,0,1},
 {1,0,1},
 {1,0,1},
 {1,1,1}
},
//1
{
 {0,1,0},
 {0,1,0},
 {0,1,0},
 {0,1,0},
 {0,1,0},
},
//2
{
 {1,1,1},
 {0,0,1},
 {1,1,1},
 {1,0,0},
 {1,1,1},
},
//3
{
 {1,1,1},
 {0,0,1},
 {1,1,1},
 {0,0,1},
 {1,1,1},
},
//4
{
 {1,0,1},
 {1,0,1},
 {1,1,1},
 {0,0,1},
 {0,0,1},
},
//5
{
 {1,1,1},
 {1,0,0},
 {1,1,1},
 {0,0,1},
 {1,1,1},
},
//6
{
 {1,1,1},
 {1,0,0},
 {1,1,1},
 {1,0,1},
 {1,1,1},
},
//7
{
 {1,1,1},
 {0,0,1},
 {0,0,1},
 {0,0,1},
 {0,0,1},
},
//8
{
 {1,1,1},
 {1,0,1},
 {1,1,1},
 {1,0,1},
 {1,1,1},
},
//9
{
 {1,1,1},
 {1,0,1},
 {1,1,1},
 {0,0,1},
 {1,1,1},
},
//:
{
 {0,0,0},
 {0,1,0},
 {0,0,0},
 {0,1,0},
 {0,0,0},
},
//;
{
 {0,0,0},
 {0,1,0},
 {0,0,0},
 {0,1,0},
 {1,0,0},
},
//<
{
 {0,0,1},
 {0,1,0},
 {1,0,0},
 {0,1,0},
 {0,0,1},
},
//=
{
 {0,0,0},
 {1,1,1},
 {0,0,0},
 {1,1,1},
 {0,0,0},
},
//>
{
 {1,0,0},
 {0,1,0},
 {0,0,1},
 {0,1,0},
 {1,0,0},
},
//?
{
 {0,1,0},
 {1,0,1},
 {0,1,1},
 {0,0,0},
 {0,1,0},
},
//@
{
 {0,0,0},
 {1,1,1},
 {1,0,1},
 {1,1,1},
 {0,0,0},
},
//A
{
 {1,1,1},
 {1,0,1},
 {1,1,1},
 {1,0,1},
 {1,0,1},
},
//B
{
 {1,1,0},
 {1,0,1},
 {1,1,0},
 {1,0,1},
 {1,1,0}
},
//C
{
 {1,1,1},
 {1,0,0},
 {1,0,0},
 {1,0,0},
 {1,1,1}
},
//D
{
 {1,1,0},
 {1,0,1},
 {1,0,1},
 {1,0,1},
 {1,1,0}
},
//E
{
 {1,1,1},
 {1,0,0},
 {1,1,0},
 {1,0,0},
 {1,1,1}
},
//F
{
 {1,1,1},
 {1,0,0},
 {1,1,0},
 {1,0,0},
 {1,0,0}
},
//G
{
 {1,1,1},
 {1,0,0},
 {1,0,1},
 {1,0,1},
 {1,1,0}
},
//H
{
 {1,0,1},
 {1,0,1},
 {1,1,1},
 {1,0,1},
 {1,0,1}
},
//I
{
 {1,1,1},
 {0,1,0},
 {0,1,0},
 {0,1,0},
 {1,1,1}
},
//J
{
 {1,1,1},
 {0,0,1},
 {0,0,1},
 {0,0,1},
 {0,1,1}
},
//K
{
 {1,0,1},
 {1,1,0},
 {1,0,0},
 {1,1,0},
 {1,0,1}
},
//L
{
 {1,0,0},
 {1,0,0},
 {1,0,0},
 {1,0,0},
 {1,1,1}
},
//M
{
 {1,0,1},
 {1,1,1},
 {1,0,1},
 {1,0,1},
 {1,0,1}
},
//N
{
 {1,0,1},
 {1,1,1},
 {1,1,1},
 {1,1,1},
 {1,0,1}
},
//O
{
 {1,1,1},
 {1,0,1},
 {1,0,1},
 {1,0,1},
 {1,1,1}
},
//P
{
 {1,1,1},
 {1,0,1},
 {1,1,1},
 {1,0,0},
 {1,0,0}
},
//Q
{
 {1,1,1},
 {1,0,1},
 {1,0,1},
 {1,1,1},
 {0,0,1}
},
//R
{
 {1,1,1},
 {1,0,1},
 {1,1,1},
 {1,1,0},
 {1,0,1}
},
//S
{
 {0,1,1},
 {1,0,0},
 {0,1,0},
 {0,0,1},
 {1,1,0}
},
//T
{
 {1,1,1},
 {0,1,0},
 {0,1,0},
 {0,1,0},
 {0,1,0}
},
//U
{
 {1,0,1},
 {1,0,1},
 {1,0,1},
 {1,0,1},
 {1,1,1}
},
//V
{
 {1,0,1},
 {1,0,1},
 {1,0,1},
 {1,0,1},
 {0,1,0}
},
//W
{
 {1,0,1},
 {1,0,1},
 {1,0,1},
 {1,1,1},
 {1,0,1}
},
//X
{
 {1,0,1},
 {1,0,1},
 {0,1,0},
 {1,0,1},
 {1,0,1}
},
//Y
{
 {1,0,1},
 {1,0,1},
 {1,0,1},
 {0,1,0},
 {0,1,0}
},
//Z
{
 {1,1,1},
 {0,0,1},
 {0,1,0},
 {1,0,0},
 {1,1,1}
},
//[
{
 {1,1,0},
 {1,0,0},
 {1,0,0},
 {1,0,0},
 {1,1,0}
},
//
{
 {1,0,0},
 {1,0,0},
 {0,1,0},
 {0,0,1},
 {0,0,1}
},
//]
{
 {0,1,1},
 {0,0,1},
 {0,0,1},
 {0,0,1},
 {0,1,1}
},
//^
{
 {0,1,0},
 {1,0,1},
 {0,0,0},
 {0,0,0},
 {0,0,0}
},
//_
{
 {0,0,0},
 {0,0,0},
 {0,0,0},
 {0,0,0},
 {1,1,1}
},
//`
{
 {0,1,0},
 {0,0,1},
 {0,0,0},
 {0,0,0},
 {0,0,0}
},
//{
{
 {0,1,1},
 {0,1,0},
 {1,0,0},
 {0,1,0},
 {0,1,1}
},
//|
{
 {0,0,0},
 {0,0,0},
 {0,0,0},
 {1,0,1},
 {0,1,0}
},
//}
{
 {1,1,0},
 {0,1,0},
 {0,0,1},
 {0,1,0},
 {1,1,0}
}
};

void DrawText3X5(int x,int y,unsigned int color,char *s,int fontsize=0)
{
 if (y+5>SCRHEIGHT) return;
 if (y<0) return;
 int cont=0;
 unsigned int *wsk;
 int deltaw=2*(SCRWIDTH-3);
 int deltah=2*(SCRWIDTH*5-4);
 int deltawsk=2;
 int deltax=2*4;
 if (fontsize==1)
 {
  deltaw/=2;
  deltah/=2;
  deltawsk/=2;
  deltax/=2;
 }
 wsk=(unsigned int*)((y*SCRWIDTH+x)*4+(int)buf);
 while (*s)
 {
  if (x>=SCRWIDTH-deltax) return;
  if (x<0) {x+=deltax; wsk+=deltax; s++; continue;}
  char c=*s;
  if ((c<=' ')||(c>'}')) {x+=deltax; wsk+=deltax; s++; continue;}
  if ((c=='&')||(c=='|')) {cont=1-cont; if (cont==0) {s++; continue;}}
  else cont=0;
  if ((c>='a')&&(c<='z')) c-='a'-'A';
  if ((c>='{')&&(c<='}')) c-='z'-'a'+1;
  c-=' '+1;
  for (int j=0; j<5; j++)
  {
   for (int i=0; i<3; i++)
   {
    if (fontsize==1)
    {
     if (font3X5[c][j][i]==1) *wsk=color;
    }
    else
    {
     if (font3X5[c][j][i]==1) {*wsk=color; *(wsk+1)=color; *(wsk+SCRWIDTH)=color; *(wsk+SCRWIDTH+1)=color;}
    } 
    wsk+=deltawsk;
   }
   wsk+=deltaw;
  }
  wsk-=deltah;
  s++;
  x+=deltax;
 }
}
